TQSL/TQSLCERT changes
=====================

2.0 beta
----------
Major feature Additions:

Merge tqslcert into tqsl. Update the UI to be more user friendly.

For the Callsign Certificaates tree display, don't display the
certificate provider list if there's only one provider.

Allow users to back up and restore their TQSL configuration in a portable
file. Automatically back up the configuration to a user-specified directory
(or to a default one) unless this is disabled.

Add diagnostic logging capability. This is used to store a verbose log
from cURL and to write a trace log that can be used by the developers to 
help determine the source of defects.

Display unique icons in the certificate tree to allow expired and superseded
certificates can be distinguished.

Detect and report invalid frequencies in ADIF files (outside of ham bands,
entered in KHz versus MHz.)

Validate the format of Grid Squares when they're entered for a station
location. This also fixes the case to be normal, upper case for the Field,
lower case for the subsquare (FM18ju, for example).

Other changes:

Correct the defect that could cause invalid QSOs (bad call signs, for
example) to result in a cancellation message from an attempt to sign the
log but not provide detail on what QSO failed.

Automatically back up the user's configuration whenever TQSL closes.

Display the versions of the major software packages built into TQSL as part
of the "Help/About" text.

Don't ask the user to choose the file type for certificate load operations,
just provide a file open dialog and allow them to choose.

When issuing a callsign certificate request, default to "signed" unless there
are no usable certificates to be used to sign the request. Add text to the
dialog box explaining when unsigned requests should be used.

Remove the initial "Certificate Providers" page from the certificate
request wizard as it serves no current purpose.

Always display all callsign certificates, including expired and superseded
certficates.

Use consistent terminology throughout - "Callsign Certificate" and "Station
Location".

Replace atoi() calls with strtol() to correct parsing of strings like '012'
so they are not treated as octal.

Enforce frequency entry in the ADIF editor, ensuring that frequencies are 
entered correctly (in MHz) and within an amateur band. Reject frequencies
that are not consistent with the BAND setting.

Correct the exit code for circumstances when -a abort is used and an bad QSO
is detected. Display the error information on that QSO before exiting.

Detect new verions of the TQSL configuration file when performing the
"check for updates" operation (manual or automatic) and allow the user to
update the configuration file if there is a newer one available.

Add new command line options "-b" to select the start date for QSOs to be
signed (begin) and -e to select the end date for QSOs to be signed.

Warn users on startup when they have a certificate that's going to expire
soon (in less than 60 days).

Back up certificate details (address, entity) when backing up as .p12 file.

Change title of certificate request window to reflect new or renewed
certificate.

Add the ability to automatically upload a certificate request.

Make the preferences window a top-level window so it doesn't block
activity in the help screen, etc.

Delete obsolete mode maps when signing a log.

When creating a station location, default to the callsign selected on
the locations tree if one is selected.

Add a button to the Log Operations window that opens the Logbook of the
world website.

Add a new command line option, -n, which checks for new versions of critical
TQSL files then exits. This is designed for use by logging programs that
operate TQSL on behalf of the user.

Add network proxy preference settings to allow users to use the TQSL network
based functions on networks that require all traffic to use a proxy.

Grab window focus when prompting for the certificate password to ensure that
the password window appears on top of the calling logger.

Simplify the messages displayed on certificate import (relegate the details
to the diagnostic log).

Detect additional cURL errors and translate them into more user-friendly
text.

Don't use "Private Key" in certificate load error messages - use certificate
request. Provide the callsign associated with certificate loading errors.

Display detailed error on certificate import errors.

Display system error reason when attempts to update the TrustedQSL
configuration file fail.

Track multiple pending certificate requests and warn the user when they try to
ask for a new or renewed certificate for callsigns where requests are already
pending.

Fix pathname separators so Windows always uses "\" for folder/directory names,
not mixed forward and backward slashes.

Add more information to signing progress display including processed, error,
and duplicate counts.

Recover from invalid ADIF files by ignoring invalid data until the next EOR
(end of record) field is seen.

Add working directory string to diagnostic log.

Update documentation to reference differences for Mac OS X menus.

Delete pending log file when signing cancelled.

Fix crash when location entity data is missing.

Display the DXCC entity name in location properties, not the entity number.

1.14.3
------
On Windows, use a newer verions of libcurl that doesn't suffer from the defect
fixed by http://support.microsoft.com/kb/975858. On all platforms: show some
additional libraries' versions in the about screen

1.14.2
------
Fixed an error when the TrustedQSL directory had Unicode characters, don't
prompt for updates when called silently, fail properly when the user chooses
to not ignore signing errors

1.14.1
------
Minor bug fixes to internet functions and the command line parser, hang fixed
on OSX, removed unnecessary field from upload

1.14
----
Major feature additions:

 - Upload log files directly from TrustedQSL! Simply choose "sign and upload"
   from the File menu and your log will signed and uploaded automatically with
   no extra work.

 - Command line flag '-u' has been added to expose this functionality to
   tools authors.
 - The return value from tqsl can be used to determine whether the signing
   or upload succeeded or failed, and why

          0=success; log signed and uploaded and accepted without incident
          1=Cancelled by user
          2=The log was rejected by the LoTW server
          3=The response from the LoTW server was unexpected or unrecognized
          4=An error occurred in tqsl
          5=An error occurred in tqsllib (probably a bad filename)
          6=Unable to open input file
          7=Unable to open output file
          8=All QSOs were duplicate or out of date range (no QSOs written)
          9=Some QSOs were duplicate or out of date range (some QSOs written)
          10=Command syntax error
          11=LoTW network connection failed (no network or LoTW is unreachable)

   The exit status is also written to Standard Error (stderr) in an easily
   recognized format.

 - Automatically check for updates. If a new version is available, you will be
   periodically prompted to download and install it. You can also check manually

 - Duplicate checking. Any QSOs that have been successfully uploaded to Logbook
   of the World or saved to a file are registered in a database. Any exact
   duplicates are automatically stripped from future logs. This can be disabled
   on a case-by-case basis, in case a log was signed but never uploaded, or
   there was a server issue that led to an upload going unprocessed.

 - TQSL will now ensure that the CQ and ITU zones, and subdivisions if any
   (US state/county, Canadian province, Russian oblast) are valid with respect
   to each other. This should reduce the incidence of swapped CQ/ITU zones and
   in general should help ensure that more accurate location data is uploaded.
   When an attempt is made to use a location with errors (such as CQ/ITU
   zones being reversed) the user is notified to correct the errors.

 - Installer on Windows is now a Microsoft Windows Installer package, instead of
   an executable. This will allow for easier and cleaner upgrades

 - Added a new command line option, '-a', to allow command line users to
   control user interaction. This option takes a value from the set ask,
   abort, compliant, or all. For '-a ask', TQSL will ask users how to handle
   duplicates and date mismatches. '-a abort' will cause signing to terminate
   immediately when an error occurs. '-a compliant' will cause only correct
   (new or in date range) records to be output, and '-a all' will cause all
   of the input records (including duplicates) to be signed. Prompts for errors
   (date ranges bad, bad callsigns) will be suppressed for '-a compliant'
   or '-a all', but cause immediate aborts when '-a abort' is used. '-a ask'
   prompts the user in those cases.

Minor changes:

 - TQSL/TQSLCERT now have window icons

 - Double-clicking an entry in the "Choose station location" window for signing
   now selects it, instead of opening it for editing

 - Command line parsing has been rewritten and should be more robust. Also,
   command-line documentation is available with '-h'

 - Files to sign and save are now prompted before location and date range

 - The build number is now shown in the About box; please include this when
   asking for help

 - The final confirmation before signing includes the signing station location

 - Output files on Unix systems are provided with a default .tq8 extension

 - The "Edit station location" window title now contains the callsign and
   station location name

 - Station locations can no longer be defined using expired or superceded
   certificates

 - Users are no longer prompted for a password while importing a .p12 file
   unless the file has a password set

 - When importing a certificate, detailed information is provided on the
   progress of the operation as well as the reason for any errors

 - Dozens of bug fixes and potential or real crashes fixed.

TQSL/TQSLCERT and the rest of TrustedQSL now built with the CMake build system

TQSL/TQSLCERT are now built with MSVC on Windows.

** Windows 98 support has been dropped. This will be one of the last releases
to support Windows 2000.

** This will be one of the last releases to support OS X on PowerPC systems.

1.13
----
No functional changes. Update to sync to updated tqsllib; updated build tools.

1.12
----
When asking for the password to unlock a private key, say what callsign it's
for.

Remember certificate requests and assist the user with importing the .tq6.

Prompt user to save their certificate after importing a .tq6 signed certificate.

Suppress display of superseded certificates, controlled by a tqslcert
preference setting.

Fix windows wxWidgets crashes with several wizards (cert renew, new cert,
etc.)

Add checkbox to allow bypassing state selection.

Fix crash on Windows when new certificate request wizard is started.

Added support for validating zone numbers and requiring them.

Allowed batch mode (-x) without displaying windows

When double-clicking an entry on the "Edit Station Locations" dialog, open
that entry for edit, don't just close the modal dialog.

Change the "OK" button on the "Edit Station Locations" dialog to "Close"
as that's what it does.

Update password dialogs to enable "enter" to activate when possible.

Add "-p <password>" and "-o <output-file>" arguments to tqsl.


1.11
----
Added command-line option -d. (See on-line help for details.)

Modified string handling to be compatible with Unicode versions
of wxWindows/wxWidgets.

Certificate request wizard now checks for date overlap of request with
existing certificates. This allows non-overlapping requests to be
generated. (TQSLCERT)

Help-contents file tags now contain "type" parameter so that
packages built with wxWindows >= 2.4 will show the help
contents properly.

1.10
----
Added command-line parameters and help page for same. (TQSL)

Windows build now links the expat library statically, eliminating the
need for libexpat.dll. (TQSL/TQSLCERT)

1.09
----
ADIF editor now handles seconds in the TIME_ON field. (TQSL)

User now gets chance to re-enter failed password during signing.
(TQSL)

Expanded explanation of QSO date-range dialog during signing. (TQSL)

After loading new configuration data, DXCC list in CRQ wizard was hosed.
(TQSLCERT)

1.08
----
Added start-up warning if beta-test certificates are present.
(TQSLCERT)

Added version ident to outgoing .tq8 file. (TQSL)

Added display of certificate info to getPassword dialog. (TQSL)

1.07
----
Fixed GetPassword bug that kept the password from being accepted
when trying to unlock the key during Certificate/Save. (TQSLCERT)

1.06
----
Added support for new QSO data fields (propagation, satellite,
rx band and rx freq. (TQSL)

Added support for DXCC=NONE. (TQSLCERT)

1.05
----
Now using TQSLLIB V1.2

Added QSO Date Range dialog. (TQSL)

1.04
----
"Delete" button in Preferences/ADIF_Modes wasn't getting
enabled (Windows only). (TQSL)

Assertion error when adding Cabrillo mode to empty list
in Preferences/Cabrillo_Specs (Windows only). (TQSL)

Completed help files.

1.03
----
Changed File menu items to be more descriptive (TQSL)

Added optional call-sign format checking during signing. (TQSL)

Added user-editable table of Cabrillo CONTEST
specifications. (TQSL)

Improved error reporting during log signing. (TQSL)

Errors in log caused signing to be noncancellable. (TQSL)

After signing error, same output file couldn't be reused. (TQSL)

Added user data pointer to tqsllib callback functions. (TQSLLIB)

Added PKCS#12 import and export. (TQSLLIB)

Refactored wizard code for more consistent display. (TQSLCERT/TQSL)

Added Certificate/Save and Certificate/Delete and added PKCS#12
support to File/Load_Certificate_File. (TQSLCERT)

Added broken-certificate indicator to certificate list. (TQSLCERT)

Improved error trapping and reporting in certificate-request
wizard (TQSLCERT)

1.02
----
TQSL now gives the user the option of ignoring errors that occur during
signing. Errors are still reported, however.

Fixed ADIF parser zero-length-field problem. (TQSLLIB)

Fixed certificate request wizard State field focus problem. (TQSLCERT)

Added "Edit Locations" command to Station menu. (TQSL)

Fixed mishandling of ITU zone and CQ zone data in station location. (TQSLLIB)

Improved MODE handling in both TQSL and TQSLLIB. There is now a table of
mode aliases that can be added to by the user, allowing the user to map
nonstandard ADIF MODE values to ones acceptable to TQSL. This is applied
both during File/Sign and File/Open operations.

Fixed Cabrillo converter typo in ARRL-VHF-JAN contest. (TQSLLIB)

1.01
----
Fixed error-return value when certificate not found during signing. (TQSLLIB)

Fixed certificate selection criteria during signing and add station location.
(Was allowing use of certificates not yet loaded.)

Added ADIF frequency-to-band conversion. (TQSLLIB)
