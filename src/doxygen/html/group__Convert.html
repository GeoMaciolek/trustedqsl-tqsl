<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>TrustedQSL Library API: Converter API</title>
<link href="tqsllib.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.4 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>Converter API</h1><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="a0" doxytag="Convert::tQSL_Converter" ></a>
typedef void *&nbsp;</td><td class="memItemRight" valign=bottom><b>tQSL_Converter</b></td></tr>

<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__Convert.html#a1">tqsl_beginADIFConverter</a> (tQSL_Converter *conv, const  char *filename, tQSL_Cert *certs, int ncerts, tQSL_Location loc)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__Convert.html#a2">tqsl_beginCabrilloConverter</a> (tQSL_Converter *conv, const  char *filename, tQSL_Cert *certs, int ncerts, tQSL_Location loc)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__Convert.html#a3">tqsl_endConverter</a> (tQSL_Converter *conv)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__Convert.html#a4">tqsl_setConverterAllowBadCall</a> (tQSL_Converter conv, int allow)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__Convert.html#a5">tqsl_setADIFConverterDateFilter</a> (tQSL_Converter conv, <a class="el" href="structtQSL__Date.html">tQSL_Date</a> *start, <a class="el" href="structtQSL__Date.html">tQSL_Date</a> *end)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const  char *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__Convert.html#a6">tqsl_getConverterGABBI</a> (tQSL_Converter conv)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__Convert.html#a7">tqsl_getConverterCert</a> (tQSL_Converter conv, tQSL_Cert *certp)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__Convert.html#a8">tqsl_getConverterLine</a> (tQSL_Converter conv, int *lineno)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const  char *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__Convert.html#a9">tqsl_getConverterRecordText</a> (tQSL_Converter conv)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The Converter API provides the capability of converting Cabrillo and ADIF files to GABBI output. <hr><h2>Function Documentation</h2>
<a class="anchor" name="a1" doxytag="tqslconvert.h::tqsl_beginADIFConverter" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int tqsl_beginADIFConverter </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">tQSL_Converter *&nbsp;</td>
          <td class="mdname" nowrap> <em>conv</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>filename</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>tQSL_Cert *&nbsp;</td>
          <td class="mdname" nowrap> <em>certs</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>ncerts</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>tQSL_Location&nbsp;</td>
          <td class="mdname" nowrap> <em>loc</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initiates the conversion process for an ADIF file.<p>
<code>certs</code> and <code>ncerts</code> define a set of certificates that are available to the converter for signing records. Typically, this list will be obtained by calling <a class="el" href="group__CertStuff.html#a0">tqsl_selectCertificates()</a>.<p>
<a class="el" href="group__Convert.html#a3">tqsl_endConverter()</a> should be called to free the resources when the conversion is finished.     </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="tqslconvert.h::tqsl_beginCabrilloConverter" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int tqsl_beginCabrilloConverter </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">tQSL_Converter *&nbsp;</td>
          <td class="mdname" nowrap> <em>conv</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>filename</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>tQSL_Cert *&nbsp;</td>
          <td class="mdname" nowrap> <em>certs</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>ncerts</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>tQSL_Location&nbsp;</td>
          <td class="mdname" nowrap> <em>loc</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initiates the conversion process for a Cabrillo file.<p>
<code>certs</code> and <code>ncerts</code> define a set of certificates that are available to the converter for signing records. Typically, this list will be obtained by calling <a class="el" href="group__CertStuff.html#a0">tqsl_selectCertificates()</a>.<p>
<a class="el" href="group__Convert.html#a3">tqsl_endConverter()</a> should be called to free the resources when the conversion is finished.     </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="tqslconvert.h::tqsl_endConverter" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int tqsl_endConverter </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">tQSL_Converter *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>conv</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
End the conversion process by freeing the used resources.     </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="tqslconvert.h::tqsl_getConverterCert" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int tqsl_getConverterCert </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">tQSL_Converter&nbsp;</td>
          <td class="mdname" nowrap> <em>conv</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>tQSL_Cert *&nbsp;</td>
          <td class="mdname" nowrap> <em>certp</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the certificate used to sign the most recent QSO record.     </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="tqslconvert.h::tqsl_getConverterGABBI" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char* tqsl_getConverterGABBI </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">tQSL_Converter&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>conv</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This is the main converter function. It returns a single GABBI record.<p>
Returns the NULL pointer on error or EOF. (Test tQSL_Error to determine which.)<p>
tQSL_Error is set to TQSL_DATE_OUT_OF_RANGE if QSO date range checking is active (see ::tqsl_useADIFConverterDateFilter) and the QSO date is outside the specified range. This is a non-fatal error.<p>
N.B. On systems that distinguish text-mode files from binary-mode files, notably Windows, the GABBI records should be written in binary mode.<p>
N.B. If the selected certificate has not been initialized for signing via <a class="el" href="group__Sign.html#a0">tqsl_beginSigning()</a>, this function will return a TQSL_SIGNINIT_ERROR. The cert that caused the error can be obtained via <a class="el" href="group__Convert.html#a7">tqsl_getConverterCert()</a>, initialized for signing, and then this function can be called again. No data records will be lost in this process.     </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="tqslconvert.h::tqsl_getConverterLine" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int tqsl_getConverterLine </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">tQSL_Converter&nbsp;</td>
          <td class="mdname" nowrap> <em>conv</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int *&nbsp;</td>
          <td class="mdname" nowrap> <em>lineno</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the input-file line number last read by the converter, starting at line 1.     </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="tqslconvert.h::tqsl_getConverterRecordText" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char* tqsl_getConverterRecordText </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">tQSL_Converter&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>conv</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the text of the last record read by the converter.<p>
Returns NULL on error.     </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="tqslconvert.h::tqsl_setADIFConverterDateFilter" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int tqsl_setADIFConverterDateFilter </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">tQSL_Converter&nbsp;</td>
          <td class="mdname" nowrap> <em>conv</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="structtQSL__Date.html">tQSL_Date</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>start</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="structtQSL__Date.html">tQSL_Date</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>end</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set QSO date filtering in the converter.<p>
If <code>start</code> points to a valid date, QSOs prior to that date will be ignored by the converter. Similarly, if <code>end</code> points to a valid date, QSOs after that date will be ignored. Either or both may be NULL (or point to an invalid date) to disable date filtering for the respective range.     </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="tqslconvert.h::tqsl_setConverterAllowBadCall" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int tqsl_setConverterAllowBadCall </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">tQSL_Converter&nbsp;</td>
          <td class="mdname" nowrap> <em>conv</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>allow</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Configure the converter to allow (allow != 0) or disallow (allow == 0) nonamateur call signs in the CALL field. (Note: the test for validity is fairly trivial and will allow some nonamateur calls to get through, but it does catch most common errors.)<p>
<code>allow</code> defaults to 0 when tqsl_beginADIFConverter or tqsl_beginCabrilloConverter is called.     </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Tue Feb 22 08:15:36 2005 for TrustedQSL Library API by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.4 </small></address>
</body>
</html>
